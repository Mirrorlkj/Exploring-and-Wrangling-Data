---
title: "Exploring U.S. Supreme Court Decisions"
author: "Kejing Li"
output: github_document
---

## Get the data

```{r, echo = TRUE}
# load useful packages
library(tidyverse)

# load data
scdbv_mod <- read_csv("data/SCDB_2019_01_justiceCentered_Citation.csv")
scdbv_leg <- read_csv("data/SCDB_Legacy_05_justiceCentered_Citation.csv")
scdbv_mod
scdbv_leg

theme_set(theme_minimal())
```

## Combine the datasets

```{r}
#convert docket and adminActionState into numerical 
scdbv_leg <- 
  scdbv_leg %>%
  mutate(docket = as.numeric(docket),
       adminActionState = as.numeric(adminActionState)) 

#combine the datasets
scdbv <- bind_rows(scdbv_leg, scdbv_mod)
```

## Recode variables as you find necessary

?????????????????????????????????????????????????


```{r}
#select variables for analysis purpose 
scdbv_select <- scdbv%>% 
  select(caseIssuesId, term ,justice, justiceName, decisionDirection, majVotes, minVotes, majority, chief, dateDecision, direction)

scdbv_select
```

## What percentage of cases in each term are decided by a one-vote margin (i.e. 5-4, 4-3, etc.)

```{r}
scdbv_select %>%
#calculate the margin
  drop_na(majVotes, minVotes) %>%
  mutate(margin = majVotes - minVotes) %>%
  group_by(term) %>% 
#calculate the percent
  summarize(percent = sum(margin == 1)/n())%>%
  ggplot(aes(term, percent))+
  geom_line()+
#change the y-axis into percent format
  scale_y_continuous(labels = scales::percent_format(accuracy = 1))+
  labs(title = "Percent of U.S. Supreme Court cases decided by 1-vote margin",
         x = "Term", 
         y = "Percent of total cases decided",
         caption = "Source: The Supreme Court Database")  

```

__Answer:__ As seen above, the percent of total cases decided by 1-vote margin peaked at 50% around 1800, and stayed relatively constant afterwards until 1925, where an increase trend was shown. 


## In each term he served on the Court, in what percentage of cases was Justice Antonin Scalia in the majority?

```{r}

```

## Create a graph similar to above that adds a second component which compares the percentage for all cases versus non-unanimous cases (i.e. there was at least one dissenting vote)

```{r}

```

## In each term, what percentage of cases were decided in the conservative direction?

```{r}

```

## The Chief Justice is frequently seen as capable of influencing the ideological direction of the Court. Create a graph similar to the one above that also incorporates information on who was the Chief Justice during the term.

```{r}

```

## In each term, how many of the term's published decisions (decided after oral arguments) were announced in a given month?

```{r}

```

## Session info

```{r, echo = TRUE}
devtools::session_info()
```


